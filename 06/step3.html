<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="../bootstrap.min.css">
  <style>
    body{
      padding-top:80px
    }
    #search-btn{
      margin-top: 20px;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-md-3 col-md-offset-3">
      <form class="form-horizontal">
        <input id="place-input" type="text" class="form-control" value="趵突泉" placeholder="请输入地址">
        <button type="button" id="search-btn" class="btn btn-success">
          查询
        </button>
      </form>

    </div>
    <div class="col-md-6">
      <div id="main" style="height:500px;"></div>
    </div>
  </div>
</div>  
<script src='../jquery.min.js'></script>
<script src='../echarts.min.js'></script>
<script src='../china.js'></script>
<script>  
// 画地图必须要经纬度数据
// 百度地图的开发者秘钥
var token = 'fHrNQj6DHTjZtfTvfqbsuvTzKc5V9SBl'
var url = 'http://api.map.baidu.com/geocoder/v2/?output=json&ak=' + token + '&address='
var ePlaceInput = $('#place-input')
var eSearchBtn = $('#search-btn')

eSearchBtn.click(function() {
  var place = ePlaceInput.val();
  if (place) {
      //&callback=? 支持跨域，jquery会自动生成函数名
    $.getJSON(url + place + '&callback=?', function(res) {
      if (res.status === 0) {
        console.log(place, res.result)
      }else{
        alert('百度没有找到地址信息')
      }
    })
  }
})

  //百度地图API使用方法 http://lbsyun.baidu.com/index.php?title=webapi/guide/webservice-geocoding
  //1.申请ak(即获取秘钥)
  //2.拼写发送http请求的url，注意需要使用第一步申请的ak
  //3.接收http请求返回的数据（支持json和xml格式）

  //服务器地址：http://api.map.baidu.com/geocoder/v2/



</script>
</body>
</html>
